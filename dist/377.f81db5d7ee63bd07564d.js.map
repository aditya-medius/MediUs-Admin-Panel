{"version":3,"sources":["./src/app/pages/login/login.service.ts","./src/app/layouts/auth-layout/auth-layout.routing.ts","./src/app/pages/login/login.component.ts","./src/app/pages/login/login.component.html","./src/app/pages/register/register.component.ts","./src/app/pages/register/register.component.html","./src/app/layouts/auth-layout/auth-layout.module.ts"],"names":["http","util","apiUrl","login","phoneNumber","args","password","url","put","this","LoginService","AuthLayoutRoutes","path","component","fb","toastrService","loginService","router","disableOTP","loginForm","group","submitForm","valid","value","subscribe","result","status","success","message","localStorage","setItem","JSON","stringify","navigate","type","error","removeItem","phoneNumberValidation","nameRe","control","addControl","ngOnInit","ngOnDestroy","LoginComponent","RegisterComponent","AuthLayoutModule"],"mappings":"8QAIA,aAKE,WAAoBA,EAA0BC,GAA9C,WAAoB,KAAAD,OAA0B,KAAAC,OADtC,KAAAC,OAAwB,KAKhC,KAAAC,MAAQ,W,IAAC,sDACF,IAAAC,EAAyBC,EAAI,GAAhBC,EAAYD,EAAI,GAC9BE,EAAiB,EAAKL,OAAM,sBAAsBE,EAAW,aAAaE,EAK9E,OAAO,EAAKN,KAAKQ,IAAID,EAAK,KAV1BE,KAAKP,OAAYO,KAAKR,KAAKC,SAAQ,S,6CAH1BQ,GAAY,yB,0BAAZA,EAAY,QAAZA,EAAY,qBAFX,S,EADd,GCCaC,EAA2B,CACpC,CAAEC,KAAM,QAAkBC,UCS9B,WAkBE,WACUC,EACAC,EACAC,EACAC,GAJV,WACU,KAAAH,KACA,KAAAC,gBACA,KAAAC,eACA,KAAAC,SANV,KAAAC,YAAsB,EAWtB,KAAAC,UAAYV,KAAKK,GAAGM,MAAM,CACxBhB,YAAa,CAAC,GAAI,CAAC,cAAqB,eAAqB,MAC7DE,SAAU,CAAC,GAAI,iBAMjB,KAAAe,WAAa,WACX,GAAK,EAAKF,UAAUG,MAApB,CAII,MAA4B,EAAKH,UAAUI,MAC/C,EAAKP,aAAab,MADD,cAAU,YACoBqB,UAC7C,SAACC,GAKsB,KAAjBA,EAAOC,QACT,EAAKX,cAAcY,QAAQ,GAAGF,EAAOG,SACrCC,aAAaC,QAAQ,QAASC,KAAKC,UAAUP,IAC7C,EAAKR,OAAOgB,SAAS,CAAC,aACI,KAAjBR,EAAOC,SACG,qBAAfD,EAAOS,MACT,EAAKnB,cAAcoB,MAAM,eAE3B,EAAKpB,cAAcoB,MAAMV,EAAOG,WAGpC,SAACO,GAA6B,SAAKpB,cAAcoB,MAAMA,EAAMP,gBArB7D,EAAKb,cAAcoB,MAAM,wBAb3BN,aAAaO,WAAW,S,OAlB1B,YAAAC,sBAAA,SAAsBC,GAAtB,WACE,OAAO,SAACC,GAMN,OAJA,EAAKpB,UAAUqB,WACb,MACA,IAAI,KAAY,GAAI,gBAEf,OAmBX,YAAAC,SAAA,aACA,YAAAC,YAAA,a,sCA5BWC,GAAc,+C,wBAAdA,EAAc,4hCCpB3B,iBAcE,iBACE,yBAQE,qBACF,QACF,QACF,QAEA,yBACE,iBACE,iBACE,iBACE,iBAaA,iBAIE,oBAA0C,mCAAY,EAAAtB,eACpD,mBACE,mBACE,mBACE,oBACG,iBACF,QACH,QACA,qBAMF,QACF,QACA,mBACE,mBACE,mBACE,oBACG,iBACF,QACH,QACA,qBAKF,QACF,QAaA,mBACE,qBAKF,QACF,QACF,QACF,QAaF,QACF,QACF,S,MAlE4B,2C,6NDlC5B,IDRI,CAAET,KAAM,WAAkBC,UGL9B,WAOE,c,OAEA,YAAA4B,SAAA,a,sCAJWG,I,wBAAAA,EAAiB,y1DCP9B,iBACE,iBACE,iBACE,iBACE,iBACE,gBAAuB,oBAAQ,QAC/B,eAAgC,4FAAgF,QAClH,QACF,QACF,QACF,QACA,iBACE,0BACE,sBACF,QACF,QACF,QAEA,2BAEE,kBACE,mBACE,mBACE,mBACE,mBAA8C,kBAAO,yBAAY,QAAQ,QACzE,mBACE,iBACE,oBAA8B,mBAA8C,QAC5E,oBAA8B,mBAAM,QACtC,QACA,iBACE,oBAA8B,mBAA8C,QAC5E,oBAA8B,mBAAM,QACtC,QACF,QACF,QACA,mBACE,mBACE,kBAAO,wCAA2B,QACpC,QACA,oBACE,mBACE,mBACE,mBACE,oBAA+B,iBAA2B,QAC5D,QACA,qBACF,QACF,QACA,mBACE,mBACE,mBACE,oBAA+B,iBAA8B,QAC/D,QACA,qBACF,QACF,QACA,mBACE,mBACE,mBACE,oBAA+B,iBAAsC,QACvE,QACA,qBACF,QACF,QACA,mBAAoC,kBAAO,gCAAmB,oBAA2C,mBAAM,QAAO,QAAQ,QAC9H,mBACE,mBACE,mBACE,qBACA,qBACE,oBAAyB,8BAAiB,iBAAa,2BAAc,QAAI,QAC3E,QACF,QACF,QACF,QACA,mBACE,sBAAmD,2BAAc,QACnE,QACF,QACF,QACF,QACF,QACF,QACF,U,kNDlFA,K,sBEQA,2B,6CAUaC,I,wBAAAA,I,4BATF,CACP,KACA,cAAsBlC,GACtB,KACA,IACA,S,EANJ","file":"377.f81db5d7ee63bd07564d.js","sourcesContent":["import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { UtilService } from \"src/app/shared/util.service\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class LoginService {\r\n  private apiUrl: string | null = null;\r\n  constructor(private http: HttpClient, private util: UtilService) {\r\n    this.apiUrl = `${this.util.apiUrl()}/admin`;\r\n  }\r\n\r\n  login = (...args) => {\r\n    let [phoneNumber, password] = args;\r\n    let url: string = `${this.apiUrl}/login?phoneNumber=${phoneNumber}&password=${password}`;\r\n    // if (args[1]) {\r\n    //   let otp = args[1];\r\n    //   url = `${this.apiUrl}/login?phoneNumber=${phoneNumber}&OTP=${otp}`;\r\n    // }\r\n    return this.http.put(url, {});\r\n  };\r\n}\r\n","import { Routes } from '@angular/router';\r\n\r\nimport { LoginComponent } from '../../pages/login/login.component';\r\nimport { RegisterComponent } from '../../pages/register/register.component';\r\n\r\nexport const AuthLayoutRoutes: Routes = [\r\n    { path: 'login',          component: LoginComponent },\r\n    { path: 'register',       component: RegisterComponent }\r\n];\r\n","import { HttpErrorResponse } from \"@angular/common/http\";\r\nimport { Component, OnInit, OnDestroy } from \"@angular/core\";\r\nimport {\r\n  AbstractControl,\r\n  FormBuilder,\r\n  FormControl,\r\n  ValidationErrors,\r\n  ValidatorFn,\r\n  Validators,\r\n} from \"@angular/forms\";\r\nimport { Router } from \"@angular/router\";\r\nimport { isNumber } from \"@ng-bootstrap/ng-bootstrap/util/util\";\r\nimport { ToastrService } from \"ngx-toastr\";\r\nimport { LoginService } from \"./login.service\";\r\n\r\n@Component({\r\n  selector: \"app-login\",\r\n  templateUrl: \"./login.component.html\",\r\n  styleUrls: [\"./login.component.scss\"],\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n  phoneNumberValidation(nameRe: RegExp): ValidatorFn {\r\n    return (control: AbstractControl): ValidationErrors | null => {\r\n      let parent = control.parent;\r\n      this.loginForm.addControl(\r\n        \"OTP\",\r\n        new FormControl(\"\", Validators.required)\r\n      );\r\n      return null;\r\n    };\r\n  }\r\n  disableOTP: boolean = true;\r\n\r\n  constructor(\r\n    private fb: FormBuilder,\r\n    private toastrService: ToastrService,\r\n    private loginService: LoginService,\r\n    private router: Router\r\n  ) {\r\n    localStorage.removeItem(\"admin\");\r\n  }\r\n\r\n  loginForm = this.fb.group({\r\n    phoneNumber: [\"\", [Validators.required, Validators.minLength(10)]],\r\n    password: [\"\", Validators.required],\r\n  });\r\n\r\n  ngOnInit() {}\r\n  ngOnDestroy() {}\r\n\r\n  submitForm = () => {\r\n    if (!this.loginForm.valid) {\r\n      this.toastrService.error(\"Enter proper values\");\r\n      return;\r\n    }\r\n    let { phoneNumber, password } = this.loginForm.value;\r\n    this.loginService.login(phoneNumber, password).subscribe(\r\n      (result: any) => {\r\n        // this.disableOTP = false;\r\n\r\n        // this.loginForm.get(\"OTP\").enable();\r\n\r\n        if (result.status == 200) {\r\n          this.toastrService.success(`${result.message}`);\r\n          localStorage.setItem(\"admin\", JSON.stringify(result));\r\n          this.router.navigate([\"/tables\"]);\r\n        } else if (result.status == 400) {\r\n          if (result.type == \"JsonWebTokenError\") {\r\n            this.toastrService.error(\"Invalid OTP\");\r\n          }\r\n          this.toastrService.error(result.message);\r\n        }\r\n      },\r\n      (error: HttpErrorResponse) => this.toastrService.error(error.message)\r\n    );\r\n  };\r\n}\r\n","<div class=\"header bg-gradient-danger py-7 py-lg-8\">\r\n  <!-- <div class=\"container\">\r\n    <div class=\"header-body text-center mb-7\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-lg-5 col-md-6\">\r\n          <h1 class=\"text-white\">Welcome!</h1>\r\n          <p class=\"text-lead text-light\">\r\n            Use these awesome forms to login or create new account in your\r\n            project for free.\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div> -->\r\n  <div class=\"separator separator-bottom separator-skew zindex-100\">\r\n    <svg\r\n      x=\"0\"\r\n      y=\"0\"\r\n      viewBox=\"0 0 2560 100\"\r\n      preserveAspectRatio=\"none\"\r\n      version=\"1.1\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n    >\r\n      <polygon class=\"fill-default\" points=\"2560 0 2560 100 0 100\"></polygon>\r\n    </svg>\r\n  </div>\r\n</div>\r\n<!-- Page content -->\r\n<div class=\"container mt--8 pb-5\">\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-lg-5 col-md-7\">\r\n      <div class=\"card bg-secondary shadow border-0\">\r\n        <div class=\"card-header bg-transparent pb-5\">\r\n          <!-- <div class=\"text-muted text-center mt-2 mb-3\"><small>Sign in with</small></div> -->\r\n          <!-- <div class=\"btn-wrapper text-center\">\r\n            <a href=\"javascript:void(0)\" class=\"btn btn-neutral btn-icon\">\r\n              <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/github.svg\"></span>\r\n              <span class=\"btn-inner--text\">Github</span>\r\n            </a>\r\n            <a href=\"javascript:void(0)\" class=\"btn btn-neutral btn-icon\">\r\n              <span class=\"btn-inner--icon\"><img src=\"../assets/img/icons/common/google.svg\"></span>\r\n              <span class=\"btn-inner--text\">Google</span>\r\n            </a>\r\n          </div> -->\r\n        </div>\r\n        <div class=\"card-body px-lg-5 py-lg-5\">\r\n          <!-- <div class=\"text-center text-muted mb-4\">\r\n            <small>Or sign in with credentials</small>\r\n          </div> -->\r\n          <form role=\"form\" [formGroup]=\"loginForm\" (ngSubmit)=\"submitForm()\">\r\n            <div class=\"form-group mb-3\">\r\n              <div class=\"input-group input-group-alternative\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"\r\n                    ><i class=\"ni ni-number-83\"></i\r\n                  ></span>\r\n                </div>\r\n                <input\r\n                  formControlName=\"phoneNumber\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Phone Number\"\r\n                  />\r\n                  <!-- (keypress)=\"phoneNumberKeyPress($event.target.value)\" -->\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group input-group-alternative\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"\r\n                    ><i class=\"ni ni-1-circle-open\"></i\r\n                  ></span>\r\n                </div>\r\n                <input\r\n                  formControlName=\"password\"\r\n                  class=\"form-control\"\r\n                  placeholder=\"Password\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <!-- <div\r\n              class=\"custom-control custom-control-alternative custom-checkbox\"\r\n            >\r\n              <input\r\n                class=\"custom-control-input\"\r\n                id=\" customCheckLogin\"\r\n                type=\"checkbox\"\r\n              />\r\n              <label class=\"custom-control-label\" for=\" customCheckLogin\">\r\n                <span class=\"text-muted\">Remember me</span>\r\n              </label>\r\n            </div> -->\r\n            <div class=\"text-center\">\r\n              <input\r\n                type=\"submit\"\r\n                class=\"btn btn-primary my-4\"\r\n                value=\"Sign In\"\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <!-- <div class=\"row mt-3\">\r\n        <div class=\"col-6\">\r\n          <a href=\"javascript:void(0)\" class=\"text-light\"\r\n            ><small>Forgot password?</small></a\r\n          >\r\n        </div>\r\n        <div class=\"col-6 text-right\">\r\n          <a href=\"javascript:void(0)\" class=\"text-light\"\r\n            ><small>Create new account</small></a\r\n          >\r\n        </div>\r\n      </div> -->\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss']\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","<div class=\"header bg-gradient-danger py-7 py-lg-8\">\r\n  <div class=\"container\">\r\n    <div class=\"header-body text-center mb-7\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col-lg-5 col-md-6\">\r\n          <h1 class=\"text-white\">Welcome!</h1>\r\n          <p class=\"text-lead text-light\">Use these awesome forms to login or create new account in your project for free.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"separator separator-bottom separator-skew zindex-100\">\r\n    <svg x=\"0\" y=\"0\" viewBox=\"0 0 2560 100\" preserveAspectRatio=\"none\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <polygon class=\"fill-default\" points=\"2560 0 2560 100 0 100\"></polygon>\r\n    </svg>\r\n  </div>\r\n</div>\r\n<!-- Page content -->\r\n<div class=\"container mt--8 pb-5\">\r\n  <!-- Table -->\r\n  <div class=\"row justify-content-center\">\r\n    <div class=\"col-lg-6 col-md-8\">\r\n      <div class=\"card bg-secondary shadow border-0\">\r\n        <div class=\"card-header bg-transparent pb-5\">\r\n          <div class=\"text-muted text-center mt-2 mb-4\"><small>Sign up with</small></div>\r\n          <div class=\"text-center\">\r\n            <a href=\"javascript:void(0)\" class=\"btn btn-neutral btn-icon mr-4\">\r\n              <span class=\"btn-inner--icon\"><img src=\"assets/img/icons/common/github.svg\"></span>\r\n              <span class=\"btn-inner--text\">Github</span>\r\n            </a>\r\n            <a href=\"javascript:void(0)\" class=\"btn btn-neutral btn-icon\">\r\n              <span class=\"btn-inner--icon\"><img src=\"assets/img/icons/common/google.svg\"></span>\r\n              <span class=\"btn-inner--text\">Google</span>\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"card-body px-lg-5 py-lg-5\">\r\n          <div class=\"text-center text-muted mb-4\">\r\n            <small>Or sign up with credentials</small>\r\n          </div>\r\n          <form role=\"form\">\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group input-group-alternative mb-3\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"ni ni-hat-3\"></i></span>\r\n                </div>\r\n                <input class=\"form-control\" placeholder=\"Name\" type=\"text\">\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group input-group-alternative mb-3\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"ni ni-email-83\"></i></span>\r\n                </div>\r\n                <input class=\"form-control\" placeholder=\"Email\" type=\"email\">\r\n              </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n              <div class=\"input-group input-group-alternative\">\r\n                <div class=\"input-group-prepend\">\r\n                  <span class=\"input-group-text\"><i class=\"ni ni-lock-circle-open\"></i></span>\r\n                </div>\r\n                <input class=\"form-control\" placeholder=\"Password\" type=\"password\">\r\n              </div>\r\n            </div>\r\n            <div class=\"text-muted font-italic\"><small>password strength: <span class=\"text-success font-weight-700\">strong</span></small></div>\r\n            <div class=\"row my-4\">\r\n              <div class=\"col-12\">\r\n                <div class=\"custom-control custom-control-alternative custom-checkbox\">\r\n                  <input class=\"custom-control-input\" id=\"customCheckRegister\" type=\"checkbox\">\r\n                  <label class=\"custom-control-label\" for=\"customCheckRegister\">\r\n                    <span class=\"text-muted\">I agree with the <a href=\"#!\">Privacy Policy</a></span>\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"text-center\">\r\n              <button type=\"button\" class=\"btn btn-primary mt-4\">Create account</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\r\nimport { AuthLayoutRoutes } from \"./auth-layout.routing\";\r\nimport { NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\n\r\nimport { LoginComponent } from \"../../pages/login/login.component\";\r\nimport { RegisterComponent } from \"../../pages/register/register.component\";\r\nimport { SharedModule } from \"src/app/shared/shared.module\";\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(AuthLayoutRoutes),\r\n    FormsModule,\r\n    SharedModule,\r\n    NgbModule\r\n  ],\r\n  declarations: [LoginComponent, RegisterComponent],\r\n})\r\nexport class AuthLayoutModule {}\r\n"],"sourceRoot":"webpack:///"}